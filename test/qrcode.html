<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>qrcode.generate()</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script type="text/javascript" src="../lib/receipt.js"></script>
<script type="text/javascript">

function initialize() {
    const button = document.querySelector('button');
    const body = document.querySelector('body');
    let n = 0;
    button.onclick = async () => {
        const qr = { data: ('000' + n).slice(-4), level: 'm', quietZone: true };
        const qrform = Receipt.qrcode.generate(qr);
        const pre = document.createElement('pre');
        pre.append(qrform.map(c => c.join()).join('\n'));
        body.append(pre);
        n = (n + 1) % 10000;
    };
}
</script>
</head>
<body onload="initialize()">
<button>Generate</button>
<hr>
</body>
</html>
